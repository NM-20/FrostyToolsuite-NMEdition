<Project Sdk="Microsoft.NET.Sdk">
  <PropertyGroup>
    <Configuration Condition=" '$(Configuration)' == '' ">Debug</Configuration>
    <Platform Condition=" '$(Platform)' == '' ">AnyCPU</Platform>
    <Configurations>Developer - Debug;Release - Alpha;Release - Beta;Release - Final</Configurations>
    <Platforms>x64</Platforms>
    <ProjectGuid>{D86D23D9-DB93-4D4E-B383-5022F759ABA8}</ProjectGuid>
    <OutputType>Library</OutputType>
    <AppDesignerFolder>Properties</AppDesignerFolder>
    <RootNamespace>Frosty.Core</RootNamespace>
    <AssemblyName>FrostyCore</AssemblyName>
    <TargetFramework>net10.0-windows</TargetFramework>
    <FileAlignment>512</FileAlignment>
    <Deterministic>true</Deterministic>
    <TargetFrameworkProfile />
    <AppendRuntimeIdentifierToOutputPath>false</AppendRuntimeIdentifierToOutputPath>
    <AppendTargetFrameworkToOutputPath>false</AppendTargetFrameworkToOutputPath>
    <UseWPF>true</UseWPF>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)' == 'Developer - Debug|x64'">
    <DebugSymbols>true</DebugSymbols>
    <OutputPath>bin\Developer\Debug\</OutputPath>
    <DefineConstants>TRACE;DEBUG;FROSTY_DEVELOPER</DefineConstants>
    <AllowUnsafeBlocks>true</AllowUnsafeBlocks>
    <DebugType>portable</DebugType>
    <PlatformTarget>x64</PlatformTarget>
    <ErrorReport>prompt</ErrorReport>
    <CodeAnalysisRuleSet>MinimumRecommendedRules.ruleset</CodeAnalysisRuleSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)' == 'Release - Alpha|x64'">
    <OutputPath>bin\Release\Alpha\</OutputPath>
    <DefineConstants>TRACE;FROSTY_ALPHA</DefineConstants>
    <Optimize>true</Optimize>
    <DebugType>portable</DebugType>
    <PlatformTarget>x64</PlatformTarget>
    <ErrorReport>prompt</ErrorReport>
    <CodeAnalysisRuleSet>MinimumRecommendedRules.ruleset</CodeAnalysisRuleSet>
    <AllowUnsafeBlocks>true</AllowUnsafeBlocks>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)' == 'Release - Beta|x64'">
    <OutputPath>bin\Release\Beta\</OutputPath>
    <DefineConstants>TRACE</DefineConstants>
    <Optimize>true</Optimize>
    <DebugType>portable</DebugType>
    <PlatformTarget>x64</PlatformTarget>
    <ErrorReport>prompt</ErrorReport>
    <CodeAnalysisRuleSet>MinimumRecommendedRules.ruleset</CodeAnalysisRuleSet>
    <AllowUnsafeBlocks>true</AllowUnsafeBlocks>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)' == 'Release - Final|x64'">
    <OutputPath>bin\Release\Final\</OutputPath>
    <DefineConstants>TRACE</DefineConstants>
    <Optimize>true</Optimize>
    <DebugType>portable</DebugType>
    <PlatformTarget>x64</PlatformTarget>
    <ErrorReport>prompt</ErrorReport>
    <CodeAnalysisRuleSet>MinimumRecommendedRules.ruleset</CodeAnalysisRuleSet>
    <DocumentationFile>bin\Release - Final\FrostyCore.xml</DocumentationFile>
    <AllowUnsafeBlocks>true</AllowUnsafeBlocks>
  </PropertyGroup>
  <ItemGroup>
    <None Remove="Themes\Generic.xaml" />
    <None Remove="Themes\Icons.xaml" />
    <None Remove="Windows\AssetInstancesWindow.xaml" />
    <None Remove="Windows\ClassSelector.xaml" />
    <None Remove="Windows\FrostyTaskWindow.xaml" />
    <None Remove="Windows\OptionsWindow.xaml" />
    <None Remove="Windows\RenameInstanceWindow.xaml" />
    <None Remove="Windows\SdkUpdateWindow.xaml" />
  </ItemGroup>
    
  <ItemDefinitionGroup>
    <!-- Enable `GeneratePathProperty` for all `PackageReference`s. -->
    <PackageReference ExcludeAssets="runtime" GeneratePathProperty="true" />
  </ItemDefinitionGroup>
    
  <ItemGroup>
    <PackageReference Include="Microsoft.CodeAnalysis.Common" Version="5.0.0" />
    <PackageReference Include="Microsoft.CodeAnalysis.CSharp" Version="5.0.0" />
    <PackageReference Include="Newtonsoft.Json" ExcludeAssets="runtime" Version="13.0.4" />
    <PackageReference Include="SharpGen.Runtime" Version="2.4.2-beta" />
    <PackageReference Include="SharpGen.Runtime.COM" Version="2.4.2-beta" />
    <PackageReference Include="Vortice.D3DCompiler" ExcludeAssets="runtime" Version="3.8.2" />
    <PackageReference Include="Vortice.Direct2D1" ExcludeAssets="runtime" Version="3.8.2" />
    <PackageReference Include="Vortice.Direct3D11" ExcludeAssets="runtime" Version="3.8.2" />
    <PackageReference Include="Vortice.DirectX" Version="3.8.2" />
    <PackageReference Include="Vortice.DXGI" ExcludeAssets="runtime" Version="3.8.2" />
    <PackageReference Include="Vortice.Mathematics" ExcludeAssets="runtime" Version="2.1.0" />
    <PackageReference Include="Vortice.XAudio2" ExcludeAssets="runtime" Version="3.8.2" />
  </ItemGroup>
    
  <Target Name="PostBuild" AfterTargets="PostBuildEvent">
    <ItemGroup>
      <EditorThirdPartyFolder Include="$(SolutionDir)FrostyEditor\$(OutDir)ThirdParty\" />
      <ModManagerThirdPartyFolder Include="$(SolutionDir)FrostyModManager\$(OutDir)ThirdParty\" />
    </ItemGroup>
      
    <!-- Editor -->
    <Copy SourceFiles="$(PkgMicrosoft_CodeAnalysis_Common)\lib\net9.0\Microsoft.CodeAnalysis.dll" DestinationFolder="@(EditorThirdPartyFolder)" />
    <Copy SourceFiles="$(PkgMicrosoft_CodeAnalysis_CSharp)\lib\net9.0\Microsoft.CodeAnalysis.CSharp.dll" DestinationFolder="@(EditorThirdPartyFolder)" />
      
    <Copy SourceFiles="$(PkgNewtonsoft_Json)\lib\net6.0\Newtonsoft.Json.dll" DestinationFolder="@(EditorThirdPartyFolder)" />
      
    <Copy SourceFiles="$(PkgSharpGen_Runtime)\lib\net9.0\SharpGen.Runtime.dll" DestinationFolder="@(EditorThirdPartyFolder)" />
    <Copy SourceFiles="$(PkgSharpGen_Runtime_COM)\lib\net9.0\SharpGen.Runtime.COM.dll" DestinationFolder="@(EditorThirdPartyFolder)" />
      
    <Copy SourceFiles="$(PkgVortice_D3DCompiler)\lib\net10.0\Vortice.D3DCompiler.dll" DestinationFolder="@(EditorThirdPartyFolder)" />
    <Copy SourceFiles="$(PkgVortice_Direct2D1)\lib\net10.0\Vortice.Direct2D1.dll" DestinationFolder="@(EditorThirdPartyFolder)" />
    <Copy SourceFiles="$(PkgVortice_Direct3D11)\lib\net10.0\Vortice.Direct3D11.dll" DestinationFolder="@(EditorThirdPartyFolder)" />
    <Copy SourceFiles="$(PkgVortice_DirectX)\lib\net10.0\Vortice.DirectX.dll" DestinationFolder="@(EditorThirdPartyFolder)" />
    <Copy SourceFiles="$(PkgVortice_DXGI)\lib\net10.0\Vortice.DXGI.dll" DestinationFolder="@(EditorThirdPartyFolder)" />
    <Copy SourceFiles="$(PkgVortice_Mathematics)\lib\net10.0\Vortice.Mathematics.dll" DestinationFolder="@(EditorThirdPartyFolder)" />
      
    <!-- Mod Manager -->
    <Copy SourceFiles="$(PkgMicrosoft_CodeAnalysis_Common)\lib\net9.0\Microsoft.CodeAnalysis.dll" DestinationFolder="@(ModManagerThirdPartyFolder)" />
    <Copy SourceFiles="$(PkgMicrosoft_CodeAnalysis_CSharp)\lib\net9.0\Microsoft.CodeAnalysis.CSharp.dll" DestinationFolder="@(ModManagerThirdPartyFolder)" />
      
    <Copy SourceFiles="$(PkgNewtonsoft_Json)\lib\net6.0\Newtonsoft.Json.dll" DestinationFolder="@(ModManagerThirdPartyFolder)" />
      
    <Copy SourceFiles="$(PkgSharpGen_Runtime)\lib\net9.0\SharpGen.Runtime.dll" DestinationFolder="@(ModManagerThirdPartyFolder)" />
    <Copy SourceFiles="$(PkgSharpGen_Runtime_COM)\lib\net9.0\SharpGen.Runtime.COM.dll" DestinationFolder="@(ModManagerThirdPartyFolder)" />
      
    <Copy SourceFiles="$(PkgVortice_D3DCompiler)\lib\net10.0\Vortice.D3DCompiler.dll" DestinationFolder="@(ModManagerThirdPartyFolder)" />
    <Copy SourceFiles="$(PkgVortice_Direct2D1)\lib\net10.0\Vortice.Direct2D1.dll" DestinationFolder="@(ModManagerThirdPartyFolder)" />
    <Copy SourceFiles="$(PkgVortice_Direct3D11)\lib\net10.0\Vortice.Direct3D11.dll" DestinationFolder="@(ModManagerThirdPartyFolder)" />
    <Copy SourceFiles="$(PkgVortice_DirectX)\lib\net10.0\Vortice.DirectX.dll" DestinationFolder="@(ModManagerThirdPartyFolder)" />
    <Copy SourceFiles="$(PkgVortice_DXGI)\lib\net10.0\Vortice.DXGI.dll" DestinationFolder="@(ModManagerThirdPartyFolder)" />
    <Copy SourceFiles="$(PkgVortice_Mathematics)\lib\net10.0\Vortice.Mathematics.dll" DestinationFolder="@(ModManagerThirdPartyFolder)" />
  </Target>
    
  <ItemGroup>
    <ProjectReference Include="..\FrostyControls\FrostyControls.csproj">
      <Project>{51d3305b-48d0-4d4c-9d64-727185420eac}</Project>
      <Name>FrostyControls</Name>
      <Private>False</Private>
    </ProjectReference>
    <ProjectReference Include="..\FrostyHash\FrostyHash.csproj" />
    <ProjectReference Include="..\FrostySdk\FrostySdk.csproj">
      <Project>{93fb4a0c-df89-4169-80b5-c4e2277ff7a0}</Project>
      <Name>FrostySdk</Name>
      <Private>False</Private>
    </ProjectReference>
  </ItemGroup>
  <ItemGroup>
    <Resource Include="Images\Add.png" />
  </ItemGroup>
  <ItemGroup>
    <Resource Include="Images\Clear.png" />
  </ItemGroup>
  <ItemGroup>
    <Resource Include="Images\Rename.png" />
  </ItemGroup>
  <ItemGroup>
    <EmbeddedResource Include="Shaders.bin" />
  </ItemGroup>
  <ItemGroup>
    <Folder Include="Viewport\DeferredRender\" />
  </ItemGroup>
  <ItemGroup>
    <Resource Include="Images\Cross.png" />
  </ItemGroup>
  <ItemGroup>
    <Resource Include="Images\Tick.png" />
  </ItemGroup>
  <ItemGroup>
    <EmbeddedResource Include="Sdk\Classes.txt" />
  </ItemGroup>
  <ItemGroup>
    <EmbeddedResource Include="Sdk\AnthemDemo-Strings.txt" />
  </ItemGroup>
  <ItemGroup>
    <Resource Include="Images\Warning.png" />
  </ItemGroup>
  <ItemGroup>
    <Resource Include="Images\Settings.png" />
  </ItemGroup>
  <ItemGroup>
    <Resource Include="Images\Copy.png" />
  </ItemGroup>
  <ItemGroup>
    <Resource Include="Images\Paste.png" />
  </ItemGroup>
  <ItemGroup>
    <Resource Include="Images\Assets\SubWorldFileType.png" />
  </ItemGroup>
  <ItemGroup>
    <Resource Include="Images\Assets\SpreadsheetFileType.png" />
  </ItemGroup>
  <ItemGroup>
    <Resource Include="Images\Assets\SoundFileType.png" />
  </ItemGroup>
  <ItemGroup>
    <Resource Include="Images\Assets\SkeletonFileType.png" />
  </ItemGroup>
  <ItemGroup>
    <Resource Include="Images\Assets\ShaderPresetFileType.png" />
  </ItemGroup>
  <ItemGroup>
    <Resource Include="Images\Assets\ShaderFileType.png" />
  </ItemGroup>
  <ItemGroup>
    <Resource Include="Images\Assets\ObjectVariationFileType.png" />
  </ItemGroup>
  <ItemGroup>
    <Resource Include="Images\Assets\MovieTextureFileType.png" />
  </ItemGroup>
  <ItemGroup>
    <Resource Include="Images\Assets\LogicPrefabFileType.png" />
  </ItemGroup>
  <ItemGroup>
    <Resource Include="Images\Assets\InternalFileType.png" />
  </ItemGroup>
  <ItemGroup>
    <Resource Include="Images\Assets\ImageFileType.png" />
  </ItemGroup>
  <ItemGroup>
    <Resource Include="Images\Assets\HavokFileType.png" />
  </ItemGroup>
  <ItemGroup>
    <Resource Include="Images\Assets\EncryptedFileType.png" />
  </ItemGroup>
  <ItemGroup>
    <Resource Include="Images\Assets\EmitterFileType.png" />
  </ItemGroup>
  <ItemGroup>
    <Resource Include="Images\Assets\BlueprintFileType.png" />
  </ItemGroup>
  <ItemGroup>
    <Resource Include="Images\Assets\BlueprintBundleFileType.png" />
  </ItemGroup>
  <ItemGroup>
    <Resource Include="Images\Assets\ArchiveFileType.png" />
  </ItemGroup>
  <ItemGroup>
    <Resource Include="Images\Assets\BlankFileType.png" />
  </ItemGroup>
  <ItemGroup>
    <Resource Include="Images\Assets\StatFileType.png" />
  </ItemGroup>
</Project>